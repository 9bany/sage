<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Targets Module"><meta name="keywords" content="rust, rustlang, rust-lang, targets"><title>sage::targets - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../sage/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../sage/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Module targets</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#modules">Modules</a></li><li><a href="#traits">Traits</a></li></ul></div></section><div id="sidebar-vars" data-name="targets" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../sage/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Module <a href="../index.html">sage</a>::<wbr><a class="mod" href="#">targets</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/sage/targets/mod.rs.html#1-253">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="targets-module"><a href="#targets-module">Targets Module</a></h2>
<p>This module contains the code dealing with building the virtual
machine code to various targets, such as C source code.</p>
<h3 id="current-structure"><a href="#current-structure">Current Structure</a></h3>
<p>Right now, this module is a bit empty, only implementing C (GCC only)
as a compiler target. This is due to the fact that it has been much
simpler to build the language on top of the virtual machine when there
are fewer implementations to change.</p>
<h3 id="future-structure"><a href="#future-structure">Future Structure</a></h3>
<p>In the future, this module will be <em>much</em> more featured.
The frontend will use <code>Put</code> and <code>Get</code> to interact with the
virtual machine’s I/O device, and this module will provide hooks
to add “system calls” to implement actual hardware-specific behaviors
using these instructions, <strong>but with portability in mind</strong>.</p>
<p>Consider the <code>fork</code> system call on Unix systems. A backend might
implement a <code>fork</code> frontend for this virtual machine by executing
<code>fork</code> when a correct series of <code>Put</code> values are given to the I/O device.</p>
<p>Other backends might not implement <code>fork</code> though, and so “catch all”
code can be implemented to <em>allow a backend to compile <strong>as if</strong> <code>fork</code>
is provided</em>. This might work by providing some frontend code which takes
two functions and runs them serially instead of in parallel, but still
accomplishing a simulated <code>fork</code>’s state.</p>
<p>Other hardware specific instructions can be implemented this way very
nicely. Consider a VGA device which displays a screen. A hardware
specific implementation can be written for each supported target,
and a “catch all” implementation can work by trying to draw the screen
as ASCII/UNICODE with `PutChar. A hardware specific implementation may
also <em>choose</em> to fail under unsupported targets to prevent use where
not intended.</p>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left import-item"><code>pub use <a class="mod" href="c/index.html" title="mod sage::targets::c">c</a>::*;</code></div><div class="item-right docblock-short"></div></div></div><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="c/index.html" title="sage::targets::c mod">c</a></div><div class="item-right docblock-short"><p>C Target</p>
</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Architecture.html" title="sage::targets::Architecture trait">Architecture</a></div><div class="item-right docblock-short"><p>A trait for a target architecture to be compiled to.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.CompiledTarget.html" title="sage::targets::CompiledTarget trait">CompiledTarget</a></div><div class="item-right docblock-short"><p>Implement a compiler for the given target.</p>
</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="sage" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.62.0 (a8314ef7d 2022-06-27)" ></div>
</body></html>