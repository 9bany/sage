<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Targets Module"><title>sage::targets - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-f3501f0f5ae15dfb.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="sage" data-themes="" data-resource-suffix="" data-rustdoc-version="1.71.1 (eb26296b5 2023-08-03)" data-search-js="search-4926e5fc22a5646a.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../../static.files/storage-62ce34ea385b278a.js"></script><script defer src="../../static.files/main-f0540c1d82cde29b.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../sage/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../sage/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module targets</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#traits">Traits</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">sage</a>::<wbr><a class="mod" href="#">targets</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/sage/targets/mod.rs.html#1-306">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="targets-module"><a href="#targets-module">Targets Module</a></h2>
<p>This module contains the code dealing with building the virtual
machine code to various targets, such as C source code.</p>
<h3 id="current-structure"><a href="#current-structure">Current Structure</a></h3>
<p>Right now, this module is a bit empty, only implementing C (GCC only)
as a compiler target. This is due to the fact that it has been much
simpler to build the language on top of the virtual machine when there
are fewer implementations to change.</p>
<h3 id="future-structure"><a href="#future-structure">Future Structure</a></h3>
<p>In the future, this module will be <em>much</em> more featured.
The frontend will use <code>Put</code> and <code>Get</code> to interact with the
virtual machine’s I/O device, and this module will provide hooks
to add “system calls” to implement actual hardware-specific behaviors
using these instructions, <strong>but with portability in mind</strong>.</p>
<p>Consider the <code>fork</code> system call on Unix systems. A backend might
implement a <code>fork</code> frontend for this virtual machine by executing
<code>fork</code> when a correct series of <code>Put</code> values are given to the I/O device.</p>
<p>Other backends might not implement <code>fork</code> though, and so “catch all”
code can be implemented to <em>allow a backend to compile <strong>as if</strong> <code>fork</code>
is provided</em>. This might work by providing some frontend code which takes
two functions and runs them serially instead of in parallel, but still
accomplishing a simulated <code>fork</code>’s state.</p>
<p>Other hardware specific instructions can be implemented this way very
nicely. Consider a VGA device which displays a screen. A hardware
specific implementation can be written for each supported target,
and a “catch all” implementation can work by trying to draw the screen
as ASCII/UNICODE with `PutChar. A hardware specific implementation may
also <em>choose</em> to fail under unsupported targets to prevent use where
not intended.</p>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><ul class="item-table"><li><div class="item-name"><code>pub use <a class="mod" href="c/index.html" title="mod sage::targets::c">c</a>::*;</code></div></li><li><div class="item-name"><code>pub use <a class="mod" href="x86/index.html" title="mod sage::targets::x86">x86</a>::*;</code></div></li></ul><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="c/index.html" title="mod sage::targets::c">c</a></div><div class="desc docblock-short">C Target</div></li><li><div class="item-name"><a class="mod" href="x86/index.html" title="mod sage::targets::x86">x86</a></div><div class="desc docblock-short">x86 Target</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.Architecture.html" title="trait sage::targets::Architecture">Architecture</a></div><div class="desc docblock-short">A trait for a target architecture to be compiled to.</div></li><li><div class="item-name"><a class="trait" href="trait.CompiledTarget.html" title="trait sage::targets::CompiledTarget">CompiledTarget</a></div><div class="desc docblock-short">Implement a compiler for the given target.</div></li></ul></section></div></main></body></html>